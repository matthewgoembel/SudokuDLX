<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sudoku Solver Comparison</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* === Tech‐themed Animated Grid Background === */
    html, body { margin:0; padding:0; width:100%; height:100%; overflow:hidden; }
    body {
      font-family:'Orbitron',sans-serif;
      background:radial-gradient(circle at center,#1f1c2c,#000);
      color:#eee; display:flex; flex-direction:column; align-items:center;
    }
    body::before {
      content:""; position:absolute; top:0; left:0; width:100%; height:100%;
      background:
        linear-gradient(transparent 50%,rgba(255,255,255,0.02) 50%) 0 0,
        linear-gradient(to right,transparent 50%,rgba(255,255,255,0.02) 50%) 0 0;
      background-size:40px 40px;
      animation:moveGrid 15s linear infinite;
      pointer-events:none; z-index:-1;
    }
    @keyframes moveGrid { from{background-position:0 0;} to{background-position:40px 40px;} }

    h1 { margin:20px 0; font-size:2.5em; text-shadow:0 0 10px #8acdea,0 0 20px #8acdea; }
    .controls { margin-bottom:20px; }
    select, button {
      font-family:'Orbitron',sans-serif;
      background:#2e2a44; border:1px solid #8acdea; color:#8acdea;
      padding:8px 16px; margin:0 8px; border-radius:4px;
      box-shadow:0 0 5px rgba(138,205,234,0.7); cursor:pointer; transition:all .3s ease;
    }
    select:hover, button:hover { background:#8acdea; color:#2a1a3d; box-shadow:0 0 15px #8acdea; }

    .container {
      display:flex; flex-wrap:wrap; justify-content:center;
      gap:40px; width:100%; flex-grow:1; overflow-y:auto; padding-bottom:20px;
    }
    .panel {
      backdrop-filter:blur(10px);
      background:rgba(30,30,60,0.6); border:1px solid #4e4e5e;
      box-shadow:0 0 20px rgba(78,78,94,0.7), inset 0 0 10px rgba(255,255,255,0.1);
      border-radius:8px; padding:15px; min-width:280px;
    }
    .panel h2 { margin-top:0; font-size:1.2em; color:#8acdea; }
    table { border-collapse:collapse; margin:0 auto; background:transparent; }
    td {
      width:30px; height:30px; text-align:center;
      background:rgba(20,20,40,0.8); border:1px solid rgba(255,255,255,0.2);
      transition:background .3s;
    }
    td:hover { background:rgba(78,78,94,0.8); }
    .thick-border-top   { border-top:3px solid #8acdea; }
    .thick-border-left  { border-left:3px solid #8acdea; }
    .thick-border-right { border-right:3px solid #8acdea; }
    .thick-border-bot   { border-bottom:3px solid #8acdea; }
    .info { margin-top:8px; font-weight:bold; color:#fff; }
  </style>
</head>
<body>

  <h1>Sudoku Solver: Backtracking vs. Dancing Links</h1>
  <div class="controls">
    <label for="puzzleSelect">Choose a puzzle:</label>
    <select id="puzzleSelect"></select>
    <button id="loadPuzzleBtn">Load Puzzle</button>
    <button id="solveBtn">Solve Both</button>
  </div>

  <div class="container">
    <div class="panel">
      <h2>Input Puzzle</h2>
      <table id="inputGrid"></table>
    </div>
    <div class="panel">
      <h2>Backtracking</h2>
      <table id="btGrid"></table>
      <div id="btInfo" class="info"></div>
    </div>
    <div class="panel">
      <h2>Dancing Links</h2>
      <table id="dlxGrid"></table>
      <div id="dlxInfo" class="info"></div>
    </div>
  </div>

<script>
// === Hard‐coded puzzles ===
const puzzles = [
  {
    name: "Easy (~40 clues)",
    str:  "500678900672095008000300067859060023020003001703900800900000200080010605345280079"
  },
  {
    name: "Medium (32 clues)",
    str:  "003020600900305001001806400008102900700000008006708200002609500800203009005010300"
  },
  {
    name: "Hard (17 clues)",
    str:  "000000002000006000001000090000100000000800000000030000040000700000200000300000000"
  }
];

// === Utility: parse string → 9×9 grid ===
function parsePuzzle(s) {
  const g = [];
  for (let r = 0; r < 9; r++) {
    g[r] = [];
    for (let c = 0; c < 9; c++) {
      g[r][c] = s[r*9 + c] === '0' ? 0 : +s[r*9 + c];
    }
  }
  return g;
}

// === Utility: render 9×9 grid into table#id ===
function renderGrid(g, id) {
  const tbl = document.getElementById(id);
  tbl.innerHTML = "";
  for (let r = 0; r < 9; r++) {
    const row = tbl.insertRow();
    for (let c = 0; c < 9; c++) {
      const cell = row.insertCell();
      cell.textContent = g[r][c] || "";
      if (r % 3 === 0) cell.classList.add("thick-border-top");
      if (c % 3 === 0) cell.classList.add("thick-border-left");
      if (c === 8)      cell.classList.add("thick-border-right");
      if (r === 8)      cell.classList.add("thick-border-bot");
    }
  }
}

// --- Backtracking solver (mirrors your Java) ---
let btCalls = 0;
function validBT(g, r, c, v) {
  for (let i = 0; i < 9; i++) {
    if (g[r][i] === v || g[i][c] === v) return false;
  }
  const br = Math.floor(r/3)*3, bc = Math.floor(c/3)*3;
  for (let i = 0; i < 3; i++)
    for (let j = 0; j < 3; j++)
      if (
